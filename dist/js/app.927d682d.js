(function(){"use strict";var t={29807:function(t,e,r){var a=r(20144),o=r(78345),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main",attrs:{"element-loading-text":"登录中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[r("el-form",{ref:"form",staticClass:"loginFormTable",attrs:{rules:t.rules,model:t.loginForm}},[r("h3",{staticClass:"loginTitle"},[t._v("系统登录")]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.loginHandler}},[t._v("登录")])],1)],1)},l=[],i={name:"Login",data(){return{loading:!1,loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created(){window.document.title="用户登录"},methods:{loginHandler(){this.$refs.form.validate((t=>{t?(this.loading=!0,this.httpRequest.post("/user/login",{userName:this.loginForm.username,passWord:this.loginForm.password}).then((t=>{this.loading=!1,t.data.code>2e4&&this.$router.replace("/"),this.$router.replace("/index")})).catch((t=>{this.$router.replace("/")}))):this.$router.replace("/"),this.updateCaptcha()}))}}},n=i,c=r(1001),d=(0,c.Z)(n,s,l,!1,null,"032504c0",null),u=d.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-container",{staticStyle:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",overflow:"auto"}},[r("el-header",{staticClass:"header"},[r("div",[r("div",{staticClass:"loginImg"},[r("img",{attrs:{src:"/logo/logo.png",width:"50",height:"50"}})])]),r("div",{staticClass:"user_info"},[null!=t.token?r("el-dropdown",{on:{command:t.userCommandHandler}},[r("div",[r("el-avatar",{attrs:{src:"https://www.somg.xyz/medias/featureimages/2.jpg"}})],1),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"logout"}},[t._v("注销登录")])],1)],1):r("el-button",{attrs:{type:"primary",round:""},on:{click:t.toLogin}},[t._v("去登录")])],1)]),r("el-container",[r("el-aside",{staticStyle:{"background-color":"#245953",height:"90vh"},attrs:{width:"300px"}},[r("el-menu",{attrs:{"background-color":"#282726","text-color":"#fff","active-text-color":"#A37C27","default-active":t.activeIndex},on:{select:t.userItemHandler}},[r("el-menu-item",{attrs:{index:"/index"}},[r("i",{staticClass:"el-icon-first-aid-kit"}),t._v("系统首页")]),t._l(t.menus,(function(e,a){return r("el-submenu",{key:a,attrs:{index:e.menuIndex.toString()}},[r("hr",{attrs:{color:"#583e2e"}}),r("template",{slot:"title"},[r("i",{staticClass:"el-icon-user"}),t._v(t._s(e.menuName))]),t._l(e.menuItems,(function(e,a){return r("el-menu-item",{key:a,attrs:{index:e.menuPath.toString()}},[t._v(t._s(e.menuName))])}))],2)}))],2)],1),r("el-main",[r("router-view")],1)],1)],1)],1)},g=[],m={name:"Main",data(){return{menus:[{menuName:"产品分类",menuPath:"productCategory",menuItems:[{menuPath:"/productCategory/manage",menuName:"产品分类管理"}],menuIndex:1},{menuName:"产品",menuPath:"product",menuItems:[{menuPath:"/product/manage",menuName:"产品管理"}],menuIndex:2},{menuName:"商品",menuPath:"goods",menuItems:[{menuPath:"/goods/manage",menuName:"商品管理"}],menuIndex:3},{menuName:"订单",menuPath:"order",menuItems:[{menuPath:"/order/manage",menuName:"订单管理"}],menuIndex:4},{menuName:"系统",menuPath:"sys",menuItems:[{menuPath:"/sys/sysDict",menuName:"系统字典"}],menuIndex:5}],activeIndex:"/index",currentIndex:"/index"}},mounted(){this.activeIndex=this.$route.path},created(){window.document.title="主页面",this.activeIndex="/index",this.checkLogin()},methods:{userItemHandler(t){console.log(t),this.$router.push(t)},checkLogin(){null!=localStorage.getItem("token")&&(this.token=localStorage.getItem("token"))},toLogin(){this.$router.replace("/")},userCommandHandler(t){"logout"==t&&this.httpRequest.get("/user/logout").then((t=>{localStorage.clear(),this.$router.replace("/")}))}}},h=m,f=(0,c.Z)(h,p,g,!1,null,"732a7d6a",null),y=f.exports,b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",{staticStyle:{"font-family":"楷体"},attrs:{align:"center"}},[t._v("订单总览")]),r("div",{staticStyle:{width:"600px",height:"400px",float:"none",left:"30%","margin-top":"10%"},attrs:{id:"statisticalOne"}})])}],C={name:"SystemIndex",data(){return{orderStatisticalData:[]}},created(){window.document.title="系统首页"},beforeMount(){},beforeCreate(){},async mounted(){await this.requestOrderStatisticsData(),console.log(this.orderStatisticalData),this.statisticalOne()},methods:{async requestOrderStatisticsData(){await this.httpRequest.get("/back/statistics/orderStatistics").then((t=>{console.log(t),this.orderStatisticalData=t.data.orderStatisticsData}))},statisticalOne(){var t=this.$echarts.init(document.getElementById("statisticalOne")),e={title:{text:"整站订单数据",subtext:"统计",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"所有",type:"pie",radius:"60%",data:this.orderStatisticalData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)}}},w=C,k=(0,c.Z)(w,b,v,!1,null,"6cebc023",null),S=k.exports,_=r(64720),P=r.n(_),F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product_category_list"},[r("div",{staticStyle:{width:"100%",height:"3vh"}},[r("el-select",{staticStyle:{float:"right",right:"40px"},attrs:{clearable:!0,placeholder:"请选择订单状态"},on:{change:t.requestOrderByOrderStatus},model:{value:t.orderStatus,callback:function(e){t.orderStatus=e},expression:"orderStatus"}},t._l(t.states,(function(t){return r("el-option",{key:t.status,attrs:{label:t.text,value:t.status}})})),1)],1),r("el-divider"),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderList,height:"700"}},[r("el-table-column",{attrs:{label:"订单编号",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.orderSn))])]}}])}),r("el-table-column",{attrs:{label:"产品id",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.productId))])],1)]}}])}),r("el-table-column",{attrs:{label:"产品名字",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.productName))])],1)]}}])}),r("el-table-column",{attrs:{label:"商品数量",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.goodsNum))])],1)]}}])}),r("el-table-column",{attrs:{label:"商品单价",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.goodsPrice))])],1)]}}])}),r("el-table-column",{attrs:{label:"订单总价",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.orderTotalPrice))])],1)]}}])}),r("el-table-column",{attrs:{label:"客户邮箱",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.email))])],1)]}}])}),r("el-table-column",{attrs:{label:"商品清单",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.goodsDetailIds))])],1)]}}])}),r("el-table-column",{attrs:{label:"创建时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.createTime))])],1)]}}])}),r("el-table-column",{attrs:{label:"更新时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.updateTime))])],1)]}}])}),r("el-table-column",{attrs:{label:"订单状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"",type:"warning"}},[t._v(t._s(0==e.row.orderStatus?"锁定":1==e.row.orderStatus?"完成":"取消"))])],1)]}}])})],1),r("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,"page-count":t.pagination.totalPage,layout:"prev, pager, next",total:t.pagination.total},on:{"current-change":t.changeCurrentPageHandler}})],1)},x=[],I=r(27183),D={name:"manage",data(){return{orderStatus:"",states:[{text:"已锁定库存",status:0},{text:"已完成",status:1},{text:"已取消",status:2}],orderList:[],pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},created(){window.document.title="订单总览",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{changeCurrentPageHandler(t){this.httpRequest.get("back/order/requestPageList?page="+t+"&limit="+this.pagination.pageSize+"&status="+this.orderStatus+"&orderFiled=update_time&orderType=1").then((t=>{console.log(t),this.pagination.currentPage=t.data.orderPageList.currentPage,this.pagination.pageSize=t.data.orderPageList.pageSize,this.pagination.total=t.data.orderPageList.totalSize,this.pagination.totalPage=t.data.orderPageList.totalPage,this.orderList=t.data.orderPageList.resultList}))},requestOrderByOrderStatus(t){this.orderStatus=t,this.changeCurrentPageHandler(1)}}},N=D,$=(0,c.Z)(N,F,x,!1,null,"7c0be88e",null),L=$.exports,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product_category_list"},[r("el-button",{staticClass:"addProduct",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:t.showProductAddForm}}),r("el-dialog",{attrs:{title:"产品添加",fullscreen:!0,visible:t.productAddVisible,width:"60%","before-close":t.addHandleClose}},[r("span",[r("el-form",{ref:"addForm",attrs:{model:t.productForm,"label-width":"140px",rules:t.rules}},[r("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productForm.productName,callback:function(e){t.$set(t.productForm,"productName",e)},expression:"productForm.productName"}})],1),r("el-form-item",{attrs:{label:"产品单价",prop:"productPrice"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productForm.productPrice,callback:function(e){t.$set(t.productForm,"productPrice",e)},expression:"productForm.productPrice"}})],1),r("el-form-item",{attrs:{label:"logo",prop:"productLogo"}},[r("el-upload",{ref:"uploadSingle",staticClass:"upload-demo",attrs:{headers:t.header,name:"file","show-file-list":!0,limit:1,action:t.singleUploadUrl,"on-success":t.uploadSuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),r("el-form-item",{attrs:{label:"发货方法",prop:"productMethod"}},[r("el-select",{attrs:{placeholder:"请选择发货方式"},model:{value:t.productForm.productMethod,callback:function(e){t.$set(t.productForm,"productMethod",e)},expression:"productForm.productMethod"}},t._l(t.productMethods,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),r("el-form-item",{attrs:{label:"产品类型",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择发货方式"},model:{value:t.productForm.type,callback:function(e){t.$set(t.productForm,"type",e)},expression:"productForm.type"}},t._l(t.productTypes,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),1==t.productForm.type?r("el-form-item",{attrs:{label:"无库存商品",prop:"type"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.productForm.productDetail,callback:function(e){t.$set(t.productForm,"productDetail",e)},expression:"productForm.productDetail"}})],1):t._e(),r("el-form-item",{attrs:{label:"注意事项:分割",prop:"productDesc"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productForm.productDesc,callback:function(e){t.$set(t.productForm,"productDesc",e)},expression:"productForm.productDesc"}})],1),r("el-form-item",{attrs:{label:"警告事项:分割",prop:"productWarn"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productForm.productWarn,callback:function(e){t.$set(t.productForm,"productWarn",e)},expression:"productForm.productWarn"}})],1),r("el-form-item",{attrs:{label:"产品分类",prop:"productCategoryId"}},[r("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:t.productForm.productCategoryId,callback:function(e){t.$set(t.productForm,"productCategoryId",e)},expression:"productForm.productCategoryId"}},t._l(t.productCategoryIdAndNameOptions,(function(t){return r("el-option",{key:t.productCategoryId,attrs:{label:t.productCategoryName,value:t.productCategoryId}})})),1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.productAddVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.addProduct}},[t._v("添加")])],1)]),r("el-dialog",{attrs:{fullscreen:!0,title:"产品信息修改",visible:t.productEditVisible,width:"60%","before-close":t.editHandleClose}},[r("span",[r("el-form",{ref:"addForm",attrs:{model:t.productForm,"label-width":"140px",rules:t.rules}},[r("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productForm.productName,callback:function(e){t.$set(t.productForm,"productName",e)},expression:"productForm.productName"}})],1),r("el-form-item",{attrs:{label:"产品单价",prop:"productPrice"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productForm.productPrice,callback:function(e){t.$set(t.productForm,"productPrice",e)},expression:"productForm.productPrice"}})],1),r("el-form-item",{attrs:{label:"logo",prop:"productLogo"}},[r("el-upload",{ref:"uploadSingle",staticClass:"upload-demo",attrs:{headers:t.header,name:"file","show-file-list":!0,limit:1,action:t.singleUploadUrl,"on-success":t.uploadSuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),r("el-form-item",{attrs:{label:"发货方法",prop:"productMethod"}},[r("el-select",{attrs:{placeholder:"请选择发货方式"},model:{value:t.productForm.productMethod,callback:function(e){t.$set(t.productForm,"productMethod",e)},expression:"productForm.productMethod"}},t._l(t.productMethods,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),r("el-form-item",{attrs:{label:"产品类型",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择发货方式"},model:{value:t.productForm.type,callback:function(e){t.$set(t.productForm,"type",e)},expression:"productForm.type"}},t._l(t.productTypes,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),1==t.productForm.type?r("el-form-item",{attrs:{label:"无库存商品",prop:"type"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.productForm.productDetail,callback:function(e){t.$set(t.productForm,"productDetail",e)},expression:"productForm.productDetail"}})],1):t._e(),r("el-form-item",{attrs:{label:"注意事项:分割",prop:"productDesc"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productForm.productDesc,callback:function(e){t.$set(t.productForm,"productDesc",e)},expression:"productForm.productDesc"}})],1),r("el-form-item",{attrs:{label:"警告事项:分割",prop:"productWarn"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productForm.productWarn,callback:function(e){t.$set(t.productForm,"productWarn",e)},expression:"productForm.productWarn"}})],1),r("el-form-item",{attrs:{label:"产品分类",prop:"productCategoryId"}},[r("el-select",{attrs:{placeholder:"请选择发货方式"},model:{value:t.productForm.productCategoryId,callback:function(e){t.$set(t.productForm,"productCategoryId",e)},expression:"productForm.productCategoryId"}},t._l(t.productCategoryIdAndNameOptions,(function(t){return r("el-option",{key:t.productCategoryId,attrs:{label:t.productCategoryName,value:t.productCategoryId}})})),1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.productEditVisible=!1}}},[t._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.editProduct}},[t._v("修改")])],1)]),r("el-select",{staticStyle:{float:"right"},attrs:{clearable:!0,placeholder:"产品分类"},on:{change:t.requestProductByCategoryId},model:{value:t.productForm.productCategoryId,callback:function(e){t.$set(t.productForm,"productCategoryId",e)},expression:"productForm.productCategoryId"}},t._l(t.productCategoryIdAndNameOptions,(function(t){return r("el-option",{key:t.productCategoryId,attrs:{label:t.productCategoryName,value:t.productCategoryId}})})),1),r("el-input",{staticClass:"queryProduct",attrs:{placeholder:"请输入产品名"},on:{input:t.queryByName},model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}}),r("el-divider"),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productList,height:"700"}},[r("el-table-column",{attrs:{label:"产品id",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.productId))])]}}])}),r("el-table-column",{attrs:{label:"产品名称",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.productName))])],1)]}}])}),r("el-table-column",{attrs:{label:"所属分类",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.productCategoryName))])],1)]}}])}),r("el-table-column",{attrs:{label:"产品价格",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.productPrice))])],1)]}}])}),r("el-table-column",{attrs:{label:"产品logo",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:t.row.productLogo}})]}}])}),r("el-table-column",{attrs:{label:"发货方式",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[t._v(t._s(1===e.row.productMethod?"手动":"自动"))])],1)]}}])}),r("el-table-column",{attrs:{label:"创建时间",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.createTime))])],1)]}}])}),r("el-table-column",{attrs:{label:"更新时间",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.updateTime))])],1)]}}])}),r("el-table-column",{attrs:{label:"上架状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-value":0,"inactive-value":1,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(r){return t.checkStatus(e.row,r)}},model:{value:e.row.status,callback:function(r){t.$set(e.row,"status",r)},expression:"scope.row.status"}})]}}])}),r("el-table-column",{attrs:{label:"注意事项",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.showDesc(e.row.productDesc)}}},[t._v("点击查看")])],1)]}}])}),r("el-table-column",{attrs:{label:"警告事项",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.showDesc(e.row.productWarn)}}},[t._v("点击查看")])],1)]}}])}),r("el-table-column",{attrs:{label:"库存量",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(0==e.row.type?e.row.productStock:"无限"))])],1)]}}])}),r("el-table-column",{attrs:{label:"锁定库存",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.productLockStock))])],1)]}}])}),r("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.handleEdit(e.$index,e.row)}}},[t._v("修改 ")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")])]}}])})],1),r("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,"page-count":t.pagination.totalPage,layout:"prev, pager, next",total:t.pagination.total},on:{"current-change":t.changeCurrentPageHandler}})],1)},z=[],A={name:"manage",data(){return{queryByCategoryId:"",productCategoryIdAndNameOptions:[],productMethods:[{value:0,label:"自动"},{value:1,label:"手动"}],productTypes:[{value:0,label:"有库存产品"},{value:1,label:"无库存产品"}],productEditVisible:!1,productList:[],productName:"",singleUploadUrl:"https://nobibibi.top/back/web-file-generate/single",header:{token:localStorage.getItem("token")},productAddVisible:!1,productForm:{},rules:{productName:[{required:!0,message:"产品名不能为空",trigger:"blur"}],productLogo:[{required:!0,message:"产品logo不能为空",trigger:"blur"}],price:[{required:!0,message:"产品价格不能为空",trigger:"blur"}],productCategoryId:[{required:!0,message:"产品分类不能为空",trigger:"blur"}],productMethod:[{required:!0,message:"发货方式不能为空",trigger:"blur"}],productDesc:[{required:!0,message:"产品注意事项不能为空",trigger:"blur"}],productWarn:[{required:!0,message:"产品警告事项不能为空",trigger:"blur"}]},pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},created(){window.document.title="产品管理",this.changeCurrentPageHandler(this.pagination.currentPage),this.requestProductCategoryIdAndNameList()},methods:{changeCurrentPageHandler(t){this.httpRequest.get("back/product/requestPageList?page="+t+"&limit="+this.pagination.pageSize+"&productName="+this.productName+"&productCategoryId="+this.queryByCategoryId+"&orderFiled=product_id&orderType=1").then((t=>{console.log(t),this.pagination.currentPage=t.data.productPageList.currentPage,this.pagination.pageSize=t.data.productPageList.pageSize,this.pagination.total=t.data.productPageList.totalSize,this.pagination.totalPage=t.data.productPageList.totalPage,this.productList=t.data.productPageList.resultList}))},requestProductByCategoryId(t){this.queryByCategoryId=t,this.changeCurrentPageHandler(1)},showDesc(t){this.$alert(t,"事项详情",{confirmButtonText:"关闭",callback:t=>{this.$message({type:"info",message:`action: ${t}`})}})},queryByName(){this.changeCurrentPageHandler(1)},addHandleClose(){this.productAddVisible=!1},showProductAddForm(){this.productForm={},this.productAddVisible=!0},requestProductCategoryIdAndNameList(){this.httpRequest.get("/back/productCategory/requestProductCategoryIdAndNameList").then((t=>{console.log(t),this.productCategoryIdAndNameOptions=t.data.productCategoryIdAndNameList}))},addProduct(){this.$refs.addForm.validate((t=>{t?(this.productForm.isDelete=0,this.productForm.productStock=0,this.productForm.productLockStock=0,this.productForm.status=1,this.httpRequest.post("/back/product/appendProduct",this.productForm).then((t=>{this.changeCurrentPageHandler(1),this.productAddVisible=!1,this.productForm={},this.$refs.uploadSingle.clearFiles()}))):I.Z.error("请完善数据")}))},handleEdit(t,e){this.productForm=e,this.productEditVisible=!0},editHandleClose(){this.productEditVisible=!1,this.productForm={},this.$refs.uploadSingle.clearFiles()},editProduct(){this.$refs.addForm.validate((t=>{t?(this.productForm.isDelete=0,this.httpRequest.put("/back/product/alterProduct",this.productForm).then((t=>{this.changeCurrentPageHandler(this.pagination.currentPage),this.productEditVisible=!1,this.productForm={},this.$refs.uploadSingle.clearFiles()}))):I.Z.error("请完善数据")}))},handleDelete(t,e){this.$confirm("确定要删除该产品吗?",{type:"warning",beforeClose:async(t,r,a)=>{"confirm"===t?(this.httpRequest.delete("back/product/removeProduct/"+e.productId).then((t=>{this.changeCurrentPageHandler(1)})),a()):a()}})},uploadSuccess(t){t.code>=1e4&&t.code<2e4?(this.productForm.productLogo=t.url,this.$message.success(t.msg)):this.$message.error(t.msg)},checkStatus(t,e){this.httpRequest.put("back/product/alterProductStatus",{productId:t.productId,status:e})}}},H=A,V=(0,c.Z)(H,q,z,!1,null,"57160254",null),E=V.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product_category_list"},[r("el-button",{staticClass:"addProductCategory",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:t.showProductCategoryAddForm}}),r("el-dialog",{attrs:{title:"产品分类添加",fullscreen:!0,visible:t.productCategoryAddVisible,width:"30%","before-close":t.addHandleClose}},[r("span",[r("el-form",{ref:"addForm",attrs:{model:t.productCategoryForm,"label-width":"80px",rules:t.rules}},[r("el-form-item",{attrs:{label:"分类名称",prop:"productCategoryName"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productCategoryForm.productCategoryName,callback:function(e){t.$set(t.productCategoryForm,"productCategoryName",e)},expression:"productCategoryForm.productCategoryName"}})],1),r("el-form-item",{attrs:{label:"logo",prop:"productCategoryLogo"}},[r("el-upload",{ref:"uploadSingle",staticClass:"upload-demo",attrs:{headers:t.header,name:"file","show-file-list":!0,limit:1,action:t.singleUploadUrl,"on-success":t.uploadSuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.productCategoryAddVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.addProductCategory}},[t._v("添加")])],1)]),r("el-dialog",{attrs:{fullscreen:!0,title:"产品分类信息修改",visible:t.productCategoryEditVisible,width:"30%","before-close":t.editHandleClose}},[r("span",[r("el-form",{ref:"addForm",attrs:{model:t.productCategoryForm,"label-width":"80px",rules:t.rules}},[r("el-form-item",{attrs:{label:"分类名称",prop:"productCategoryName"}},[r("el-input",{attrs:{type:"text"},model:{value:t.productCategoryForm.productCategoryName,callback:function(e){t.$set(t.productCategoryForm,"productCategoryName",e)},expression:"productCategoryForm.productCategoryName"}})],1),r("el-form-item",{attrs:{label:"logo",prop:"productCategoryLogo"}},[r("el-upload",{ref:"uploadSingle",staticClass:"upload-demo",attrs:{headers:t.header,name:"file",limit:1,action:t.singleUploadUrl,"on-success":t.uploadSuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.productCategoryEditVisible=!1}}},[t._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.editProductCategory}},[t._v("修改")])],1)]),r("el-input",{staticClass:"queryProductCategory",attrs:{placeholder:"请输入分类"},on:{input:t.queryByName},model:{value:t.productCategoryName,callback:function(e){t.productCategoryName=e},expression:"productCategoryName"}}),r("el-divider"),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productCategoryList,height:"700"}},[r("el-table-column",{attrs:{label:"产品分类id",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.productCategoryId))])]}}])}),r("el-table-column",{attrs:{label:"产品分类名称",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.productCategoryName))])],1)]}}])}),r("el-table-column",{attrs:{label:"产品分类logo",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:t.row.productCategoryLogo}})]}}])}),r("el-table-column",{attrs:{label:"创建时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.createTime))])],1)]}}])}),r("el-table-column",{attrs:{label:"更新时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.updateTime))])],1)]}}])}),r("el-table-column",{attrs:{label:"上架状态",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-value":0,"inactive-value":1,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(r){return t.checkStatus(e.row,r)}},model:{value:e.row.status,callback:function(r){t.$set(e.row,"status",r)},expression:"scope.row.status"}})]}}])}),r("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.handleEdit(e.$index,e.row)}}},[t._v("修改 ")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")])]}}])})],1),r("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,"page-count":t.pagination.totalPage,layout:"prev, pager, next",total:t.pagination.total},on:{"current-change":t.changeCurrentPageHandler}})],1)},R=[],T={name:"manage",data(){return{productCategoryEditVisible:!1,productCategoryList:[],productCategoryName:"",singleUploadUrl:"https://nobibibi.top/back/web-file-generate/single",header:{token:localStorage.getItem("token")},productCategoryAddVisible:!1,productCategoryForm:{},rules:{productCategoryName:[{required:!0,message:"产品分类名不能为空",trigger:"blur"}],productCategoryLogo:[{required:!0,message:"产品分类logo不能为空",trigger:"blur"}]},pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},created(){window.document.title="产品分类管理",this.changeCurrentPageHandler(this.pagination.currentPage)},methods:{changeCurrentPageHandler(t){this.httpRequest.get("back/productCategory/requestPageList?page="+t+"&limit="+this.pagination.pageSize+"&productCategoryName="+this.productCategoryName+"&orderFiled=product_category_id&orderType=1").then((t=>{this.pagination.currentPage=t.data.productCategoryPageList.currentPage,this.pagination.pageSize=t.data.productCategoryPageList.pageSize,this.pagination.total=t.data.productCategoryPageList.totalSize,this.pagination.totalPage=t.data.productCategoryPageList.totalPage,this.productCategoryList=t.data.productCategoryPageList.resultList}))},queryByName(){this.changeCurrentPageHandler(1)},addHandleClose(){this.productCategoryAddVisible=!1},showProductCategoryAddForm(){this.productCategoryForm={},this.productCategoryAddVisible=!0},addProductCategory(){this.$refs.addForm.validate((t=>{t?(this.productCategoryForm.isDelete=0,this.productCategoryForm.status=1,this.httpRequest.post("/back/productCategory/appendProductCategory",this.productCategoryForm).then((t=>{this.changeCurrentPageHandler(1),this.productCategoryAddVisible=!1,this.productCategoryForm={},this.$refs.uploadSingle.clearFiles()}))):I.Z.error("请完善数据")}))},handleEdit(t,e){this.productCategoryForm=e,this.productCategoryEditVisible=!0},editHandleClose(){this.productCategoryEditVisible=!1},editProductCategory(){this.$refs.addForm.validate((t=>{t?(this.productCategoryForm.isDelete=0,this.httpRequest.put("/back/productCategory/alterProductCategory",this.productCategoryForm).then((t=>{this.changeCurrentPageHandler(this.pagination.currentPage),this.productCategoryEditVisible=!1,this.productCategoryForm={},this.$refs.uploadSingle.clearFiles()}))):I.Z.error("请完善数据")}))},handleDelete(t,e){this.$confirm("确定要删除该产品分类吗?",{type:"warning",beforeClose:async(t,r,a)=>{"confirm"===t?(this.httpRequest.delete("back/productCategory/removeProductCategory/"+e.productCategoryId).then((t=>{this.changeCurrentPageHandler(1)})),a()):a()}})},uploadSuccess(t){t.code>=1e4&&t.code<2e4?(this.productCategoryForm.productCategoryLogo=t.url,this.$message.success(t.msg)):this.$message.error(t.msg)},checkStatus(t,e){this.httpRequest.put("back/productCategory/alterProductCategoryStatus",{productCategoryId:t.productCategoryId,status:e})}}},M=T,B=(0,c.Z)(M,O,R,!1,null,"6f0aa154",null),Z=B.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product_category_list"},[r("el-button",{staticClass:"addGoods",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:t.showGoodsAddForm}}),r("el-dialog",{attrs:{title:"商品添加",fullscreen:!0,visible:t.goodsAddVisible,width:"60%","before-close":t.addHandleClose}},[r("span",[r("el-form",{ref:"addForm",attrs:{model:t.goodsForm,"label-width":"140px",rules:t.rules}},[r("el-form-item",{attrs:{label:"所属产品分类",prop:"productCategoryId"}},[r("el-select",{attrs:{placeholder:"请选择所属产品分类"},on:{change:t.requestProductIdAndNameList},model:{value:t.goodsForm.productCategoryId,callback:function(e){t.$set(t.goodsForm,"productCategoryId",e)},expression:"goodsForm.productCategoryId"}},t._l(t.productCategoryIdAndNameOptions,(function(t){return r("el-option",{key:t.productCategoryId,attrs:{label:t.productCategoryName,value:t.productCategoryId}})})),1)],1),r("el-form-item",{attrs:{label:"所属产品",prop:"productId"}},[r("el-select",{ref:"selectProduct",attrs:{clearable:!0,placeholder:"请选择所属产品"},model:{value:t.goodsForm.productId,callback:function(e){t.$set(t.goodsForm,"productId",e)},expression:"goodsForm.productId"}},t._l(t.productIdAndNameOptions,(function(t){return r("el-option",{key:t.productId,attrs:{label:t.productName,value:t.productId}})})),1)],1),r("el-form-item",{attrs:{label:"商品详情",prop:"goodsDetail"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.goodsForm.goodsDetail,callback:function(e){t.$set(t.goodsForm,"goodsDetail",e)},expression:"goodsForm.goodsDetail"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.goodsAddVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("添加")])],1)]),r("el-dialog",{attrs:{title:"商品信息修改",fullscreen:!0,visible:t.goodsEditVisible,width:"60%","before-close":t.editHandleClose}},[r("span",[r("el-form",{ref:"addForm",attrs:{model:t.goodsForm,"label-width":"140px",rules:t.rules}},[r("el-form-item",{attrs:{label:"所属产品分类",prop:"productCategoryId"}},[r("el-select",{attrs:{placeholder:"请选择所属产品分类"},on:{change:t.requestProductIdAndNameList},model:{value:t.goodsForm.productCategoryId,callback:function(e){t.$set(t.goodsForm,"productCategoryId",e)},expression:"goodsForm.productCategoryId"}},t._l(t.productCategoryIdAndNameOptions,(function(t){return r("el-option",{key:t.productCategoryId,attrs:{label:t.productCategoryName,value:t.productCategoryId}})})),1)],1),r("el-form-item",{attrs:{label:"所属产品",prop:"productId"}},[r("el-select",{ref:"selectProduct",attrs:{clearable:!0,placeholder:"请选择所属产品"},model:{value:t.goodsForm.productId,callback:function(e){t.$set(t.goodsForm,"productId",e)},expression:"goodsForm.productId"}},t._l(t.productIdAndNameOptions,(function(t){return r("el-option",{key:t.productId,attrs:{label:t.productName,value:t.productId}})})),1)],1),r("el-form-item",{attrs:{label:"商品详情",prop:"goodsDetail"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.goodsForm.goodsDetail,callback:function(e){t.$set(t.goodsForm,"goodsDetail",e)},expression:"goodsForm.goodsDetail"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.goodsEditVisible=!1}}},[t._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.editProduct}},[t._v("修改")])],1)]),r("el-select",{staticStyle:{float:"right"},attrs:{placeholder:"请选择产品分类"},on:{change:t.requestProductIdAndNameList},model:{value:t.goodsForm.productCategoryId,callback:function(e){t.$set(t.goodsForm,"productCategoryId",e)},expression:"goodsForm.productCategoryId"}},t._l(t.productCategoryIdAndNameOptions,(function(t){return r("el-option",{key:t.productCategoryId,attrs:{label:t.productCategoryName,value:t.productCategoryId}})})),1),r("el-select",{staticStyle:{float:"right",right:"20px"},attrs:{clearable:!0,placeholder:"请选择所属产品"},on:{change:t.requestGoodsByProductId},model:{value:t.goodsForm.productId,callback:function(e){t.$set(t.goodsForm,"productId",e)},expression:"goodsForm.productId"}},t._l(t.productIdAndNameOptions,(function(t){return r("el-option",{key:t.productId,attrs:{label:t.productName,value:t.productId}})})),1),r("el-select",{staticStyle:{float:"right",right:"40px"},attrs:{clearable:!0,placeholder:"请选择上架状态"},on:{change:t.requestGoodsByStatus},model:{value:t.goodsForm.status,callback:function(e){t.$set(t.goodsForm,"status",e)},expression:"goodsForm.status"}},t._l(t.states,(function(t){return r("el-option",{key:t.status,attrs:{label:t.text,value:t.status}})})),1),r("el-input",{staticClass:"queryGoods",attrs:{placeholder:"请输入商品详情"},on:{input:t.queryByGoodsDetail},model:{value:t.goodsDetail,callback:function(e){t.goodsDetail=e},expression:"goodsDetail"}}),r("el-divider"),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList,height:"700"}},[r("el-table-column",{attrs:{label:"商品id",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.goodsId))])]}}])}),r("el-table-column",{attrs:{label:"所属产品",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.productName))])],1)]}}])}),r("el-table-column",{attrs:{label:"商品详情",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.row.goodsDetail,expression:"scope.row.goodsDetail",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"text"}},[t._v("点击复制")])],1)]}}])}),r("el-table-column",{attrs:{label:"创建时间",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.createTime))])],1)]}}])}),r("el-table-column",{attrs:{label:"更新时间",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:""}},[t._v(t._s(e.row.updateTime))])],1)]}}])}),r("el-table-column",{attrs:{label:"上架状态",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-value":0,"inactive-value":1,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(r){return t.checkStatus(e.row,r)}},model:{value:e.row.status,callback:function(r){t.$set(e.row,"status",r)},expression:"scope.row.status"}})]}}])}),r("el-table-column",{attrs:{label:"商品状态",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"",type:"success"}},[t._v(t._s(0==e.row.goodsStatus?"可用":1==e.row.goodsStatus?"已售":"锁定"))])],1)]}}])}),r("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.handleEdit(e.$index,e.row)}}},[t._v("修改 ")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")])]}}])})],1),r("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,"page-count":t.pagination.totalPage,layout:"prev, pager, next",total:t.pagination.total},on:{"current-change":t.changeCurrentPageHandler}})],1)},U=[],W={name:"manage",data(){return{states:[{text:"已上架",status:0},{text:"已下架",status:1}],queryByProductId:"",queryStatus:"",productIdAndNameOptions:[],productCategoryIdAndNameOptions:[],goodsEditVisible:!1,goodsList:[],goodsDetail:"",goodsAddVisible:!1,goodsForm:{},rules:{productCategoryId:[{required:!0,message:"产品分类不能为空",trigger:"blur"}],productId:[{required:!0,message:"产品不能为空",trigger:"blur"}],goodsDetail:[{required:!0,message:"商品详情不能为空",trigger:"blur"}]},pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1}}},created(){window.document.title="商品管理",this.changeCurrentPageHandler(this.pagination.currentPage),this.requestProductCategoryIdAndNameList()},methods:{changeCurrentPageHandler(t){this.httpRequest.get("back/goods/requestPageList?page="+t+"&limit="+this.pagination.pageSize+"&goodsDetail="+this.goodsDetail+"&productId="+this.queryByProductId+"&status="+this.queryStatus+"&orderFiled=goods_id&orderType=1").then((t=>{console.log(t),this.pagination.currentPage=t.data.goodsPageList.currentPage,this.pagination.pageSize=t.data.goodsPageList.pageSize,this.pagination.total=t.data.goodsPageList.totalSize,this.pagination.totalPage=t.data.goodsPageList.totalPage,this.goodsList=t.data.goodsPageList.resultList}))},onCopy(){this.$message.success("Copy Success")},requestGoodsByProductId(t){this.queryByProductId=t,this.changeCurrentPageHandler(1)},requestGoodsByStatus(t){this.queryStatus=t,this.changeCurrentPageHandler(1)},showDesc(t){this.$alert(t,"事项详情",{confirmButtonText:"关闭",callback:t=>{this.$message({type:"info",message:`action: ${t}`})}})},queryByGoodsDetail(){this.changeCurrentPageHandler(1)},addHandleClose(){this.goodsAddVisible=!1,this.goodsForm={}},showGoodsAddForm(){this.goodsForm={},this.goodsAddVisible=!0},requestProductCategoryIdAndNameList(){this.httpRequest.get("/back/productCategory/requestProductCategoryIdAndNameList").then((t=>{console.log(t),this.productCategoryIdAndNameOptions=t.data.productCategoryIdAndNameList}))},requestProductIdAndNameList(){this.httpRequest.get("/back/product/requestProductIdAndNameListByCategoryId/"+this.goodsForm.productCategoryId).then((t=>{console.log(t),this.productIdAndNameOptions=t.data.productIdAndNameList}))},addGoods(){this.$refs.addForm.validate((t=>{t?(this.goodsForm.isDelete=0,this.goodsForm.goodsStatus=0,this.goodsForm.status=1,this.httpRequest.post("/back/goods/appendGoods",this.goodsForm).then((t=>{this.changeCurrentPageHandler(1),this.goodsAddVisible=!1,this.productIdAndNameOptions=[],this.goodsForm={}}))):I.Z.error("请完善数据")}))},handleEdit(t,e){this.goodsForm=e,console.log(e),this.requestProductIdAndNameList(),this.goodsEditVisible=!0,this.requestProductCategoryIdAndNameList()},editHandleClose(){this.goodsEditVisible=!1},editProduct(){this.$refs.addForm.validate((t=>{t?(this.goodsForm.isDelete=0,this.httpRequest.put("/back/goods/alterGoods",this.goodsForm).then((t=>{this.changeCurrentPageHandler(this.pagination.currentPage),this.goodsEditVisible=!1,this.goodsForm={}}))):I.Z.error("请完善数据")}))},handleDelete(t,e){this.$confirm("确定要删除该商品吗?",{type:"warning",beforeClose:async(t,r,a)=>{"confirm"===t?(this.httpRequest.delete("back/goods/removeGoods/"+e.goodsId).then((t=>{this.changeCurrentPageHandler(1)})),a()):a()}})},checkStatus(t,e){this.httpRequest.put("back/goods/alterGoodsStatus",{goodsId:t.goodsId,status:e})}}},j=W,X=(0,c.Z)(j,G,U,!1,null,"aa69dd34",null),J=X.exports,K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-button",{staticClass:"addSysDict",attrs:{type:"primary",icon:"el-icon-circle-plus",circle:""},on:{click:t.showSysDictAddForm}}),r("el-dialog",{attrs:{title:"添加字典",visible:t.sysDictAddVisible,width:"30%","before-close":t.addHandleClose}},[r("span",[r("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"添加根字典",name:"first"}},[r("el-form",{ref:"addForm",attrs:{model:t.SysDic,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"字典编码",prop:"dictCode"}},[r("el-input",{attrs:{type:"text"},model:{value:t.SysDic.dictCode,callback:function(e){t.$set(t.SysDic,"dictCode",e)},expression:"SysDic.dictCode"}})],1),r("el-form-item",{attrs:{label:"字典描述",prop:"dictDesc"}},[r("el-input",{attrs:{type:"text"},model:{value:t.SysDic.dictDesc,callback:function(e){t.$set(t.SysDic,"dictDesc",e)},expression:"SysDic.dictDesc"}})],1)],1)],1),r("el-tab-pane",{attrs:{label:"添加子字典",name:"second"}},[r("el-form",{ref:"addForm",attrs:{model:t.SysDic,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"字典编码",prop:"dictCode"}},[r("el-input",{attrs:{type:"text"},model:{value:t.SysDic.dictCode,callback:function(e){t.$set(t.SysDic,"dictCode",e)},expression:"SysDic.dictCode"}})],1),r("el-form-item",{attrs:{label:"字典值",prop:"dictValue"}},[r("el-input",{attrs:{type:"text"},model:{value:t.SysDic.dictValue,callback:function(e){t.$set(t.SysDic,"dictValue",e)},expression:"SysDic.dictValue"}})],1),r("el-form-item",{attrs:{label:"字典描述",prop:"dictDesc"}},[r("el-input",{attrs:{type:"text"},model:{value:t.SysDic.dictDesc,callback:function(e){t.$set(t.SysDic,"dictDesc",e)},expression:"SysDic.dictDesc"}})],1),r("el-form-item",{attrs:{label:"所属父级",prop:"parenIndex"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.SysDic.parentCode,callback:function(e){t.$set(t.SysDic,"parentCode",e)},expression:"SysDic.parentCode"}},t._l(t.allParentDict,(function(t){return r("el-option",{key:t.dictCode,attrs:{label:t.dictDesc,value:t.dictCode,disabled:t.disabled}})})),1)],1)],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.addHandleClose}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.addDict}},[t._v("添加")])],1)]),r("el-select",{staticClass:"dictSelector",attrs:{placeholder:"请选择字典类型"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.dictType,(function(e){return r("el-option",{key:e.value,attrs:{label:e.desc,value:e.value,disabled:e.disabled},nativeOn:{click:function(e){return t.changeCurrentPageHandler(1)}}})})),1),t.isSon?r("el-select",{staticClass:"dictSelector",attrs:{placeholder:"请选择根字典"},model:{value:t.parentId,callback:function(e){t.parentId=e},expression:"parentId"}},t._l(t.allParentDict,(function(e){return r("el-option",{key:e.dictCode,attrs:{label:e.dictDesc,value:e.id,disabled:e.disabled},nativeOn:{click:function(e){return t.changeCurrentPageHandler(1)}}})})),1):t._e(),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dictList,height:"700"}},[r("el-table-column",{attrs:{label:"字典编号",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.id))])]}}])}),r("el-table-column",{attrs:{label:"字典编码",width:"400",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.dictCode))])],1)]}}])}),r("el-table-column",{attrs:{label:"字典描述",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.dictDesc))])],1)]}}])}),r("el-table-column",{attrs:{label:"操作",width:"500",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.handleEdit(e.$index,e.row)}}},[t._v("修改 ")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")])]}}])})],1),r("el-dialog",{attrs:{title:"字典编辑",visible:t.dictEditVisible,width:"30%","before-close":t.editHandleClose}},[r("span",[r("el-form",{attrs:{model:t.currentDict,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"字典id",prop:"id"}},[r("el-input",{attrs:{disabled:!0},model:{value:t.currentDict.id,callback:function(e){t.$set(t.currentDict,"id",e)},expression:"currentDict.id"}})],1),r("el-form-item",{attrs:{label:"字典编码",prop:"dictCode"}},[r("el-input",{attrs:{type:"text"},model:{value:t.currentDict.dictCode,callback:function(e){t.$set(t.currentDict,"dictCode",e)},expression:"currentDict.dictCode"}})],1),1==t.type?r("el-form-item",{attrs:{label:"字典值",prop:"dictValue"}},[r("el-input",{attrs:{type:"text"},model:{value:t.currentDict.dictValue,callback:function(e){t.$set(t.currentDict,"dictValue",e)},expression:"currentDict.dictValue"}})],1):t._e(),r("el-form-item",{attrs:{label:"字典描述",prop:"dictDesc"}},[r("el-input",{attrs:{type:"text"},model:{value:t.currentDict.dictDesc,callback:function(e){t.$set(t.currentDict,"dictDesc",e)},expression:"currentDict.dictDesc"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dictEditVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.editDict}},[t._v("修改")])],1)]),r("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,"page-count":t.pagination.totalPage,layout:"prev, pager, next",total:t.pagination.total},on:{"current-change":t.changeCurrentPageHandler}})],1)},Q=[],Y={name:"SysDictList",data(){return{dictList:[],allParentDict:[],SysDic:{},dictType:[{desc:"根字典",value:"0"},{desc:"子字典",value:"1"}],type:"",isSon:!1,parentId:"",activeName:"first",sysDictAddVisible:!1,parentMenuList:[],checkedParentMenu:"",pagination:{pageSize:10,totalPage:0,activePage:0,total:0,currentPage:1},dictEditVisible:!1,currentDict:{}}},mounted(){},created(){window.document.title="系统字典",this.type="0",this.changeCurrentPageHandler(1)},methods:{handleDelete(t,e){this.httpRequest.post("/back/sysDict/deleteDict/"+e.id).then((t=>{this.changeCurrentPageHandler(1)}))},editHandleClose(){this.dictEditVisible=!1},handleEdit(t,e){console.log(e),this.currentDict=e,this.dictEditVisible=!0},editDict(){this.httpRequest.post("/back/sysDict/editDict",this.currentDict).then((t=>{this.changeCurrentPageHandler(1),this.currentDict={},this.dictEditVisible=!1}))},changeCurrentPageHandler(t){1==this.type&&0==this.isSon&&(this.dictList=[],this.isSon=!0,this.getAllParentDict()),0==this.type&&1==this.isSon&&(this.parentId="",this.isSon=!1),(0==this.type||""!=this.parentId&&1==this.type)&&this.httpRequest.get("/back/sysDict/selectDict?page="+t+"&limit="+this.pagination.pageSize+"&orderFiled=id&orderType=1&type="+this.type+"&parentId="+this.parentId).then((t=>{this.pagination.currentPage=t.data.dictList.currentPage,this.pagination.pageSize=t.data.dictList.pageSize,this.pagination.total=t.data.dictList.totalSize,this.pagination.totalPage=t.data.dictList.totalPage,this.dictList=t.data.dictList.resultList}))},addDict(){let t={dictCode:this.SysDic.dictCode,dictValue:this.SysDic.dictValue,dictDesc:this.SysDic.dictDesc,parentCode:this.SysDic.parentCode};this.httpRequest.post("/back/sysDict/addDict",t).then((t=>{this.sysDictAddVisible=!1,this.SysDic={},this.changeCurrentPageHandler(1)}))},getAllParentDict(){this.httpRequest.get("/back/sysDict/parentSysDictList").then((t=>{this.allParentDict=t.data.sysDictList}))},showSysDictAddForm(){this.getAllParentDict(),this.sysDictAddVisible=!0},addHandleClose(){this.sysDictAddVisible=!1,this.changeCurrentPageHandler(1)},handleClick(t,e){}}},tt=Y,et=(0,c.Z)(tt,K,Q,!1,null,"3bf863de",null),rt=et.exports;a["default"].use(o.Z);const at=[{path:"/",name:"login",meta:{isExist:!0},component:u},{path:"/main",name:"main",component:y,children:[{path:"/index",name:"systemIndex",meta:{isLogin:!0},component:S},{path:"/productCategory/manage",name:"productCategory",meta:{isLogin:!0},component:Z},{path:"/product/manage",name:"product",meta:{isLogin:!0},component:E},{path:"/goods/manage",name:"goods",meta:{isLogin:!0},component:J},{path:"/order/manage",name:"order",meta:{isLogin:!0},component:L},{path:"/sys/sysDict",name:"order",meta:{isLogin:!0},component:rt}]}],ot=new o.Z({routes:at});ot.beforeEach(((t,e,r)=>{t.meta.isExist&&(null==localStorage.getItem("token")?r():r({path:"/index"})),t.meta.isLogin?(null==localStorage.getItem("token")&&(_.Message.info("请先登录"),r({path:"/"})),r()):r()}));const st=o.Z.prototype.push;o.Z.prototype.push=function(t){return st.call(this,t).catch((t=>t))};var lt=ot,it=r(70596),nt=r.n(it),ct=r(9669),dt=r.n(ct),ut=dt().create({baseURL:"https://nobibibi.top/",withCredentials:!0});ut.interceptors.request.use((function(t){return null!=localStorage.getItem("token")&&(t.headers["token"]=localStorage.getItem("token")),t}),(function(t){return Promise.reject(t)})),ut.interceptors.response.use((function(t){return t.status&&200==t.status?(null!=t.headers["auth"]&&localStorage.setItem("token",t.headers["auth"]),21037==t.data.code?(_.Message.error(t.data.msg),localStorage.clear(),void location.replace("/")):0==t.data.code||t.data.code>=1e4&&t.data.code<2e4||1e3==t.data.code?(_.Message.success(t.data.msg),t):t.data.code>2e4?void _.Message.error(t.data.msg):void _.Message.info(t.data.msg)):void _.Message.error("请求失败")}),(function(t){_.Message.error("请求失败")}));var pt=ut,gt=r(54705),mt=r.n(gt),ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},ft=[],yt={},bt=(0,c.Z)(yt,ht,ft,!1,null,null,null),vt=bt.exports;a["default"].use(P()),a["default"].prototype.$echarts=nt(),a["default"].prototype.httpRequest=pt,a["default"].use(mt()),a["default"].config.productionTip=!1,new a["default"]({router:lt,render:t=>t(vt)}).$mount("#app")}},e={};function r(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,a,o,s){if(!a){var l=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],s=t[d][2];for(var i=!0,n=0;n<a.length;n++)(!1&s||l>=s)&&Object.keys(r.O).every((function(t){return r.O[t](a[n])}))?a.splice(n--,1):(i=!1,s<l&&(l=s));if(i){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[a,o,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,s,l=a[0],i=a[1],n=a[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(n)var d=n(r)}for(e&&e(a);c<l.length;c++)s=l[c],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(d)},a=self["webpackChunksomg"]=self["webpackChunksomg"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(29807)}));a=r.O(a)})();
//# sourceMappingURL=app.927d682d.js.map